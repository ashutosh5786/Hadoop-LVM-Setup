-   name: Creating LVM
    hosts: Node
    tasks:
            - name: Creating vg
              community.general.lvg:
                    vg: task_vg
                    pvs: /dev/nvme0n2
                    pvresize: yes
                    state: present
                    force: yes

            - name: Creating Lvg
              community.general.lvol:
                    vg: task_vg
                    lv: task_lv
                    size: 2g
                    state: present
                    force: yes

            - name: Creating a partition of ext4
              community.general.filesystem:
                    fstype: ext4
                    dev: /dev/mapper/task_vg-task_lv

            - name: Creating Mount Point(Folder)
              file:
                path: /datanode
                state: directory

            - name: Mounting The Folder to Disk
              ansible.posix.mount:
                path: /datanode
                src: /dev/mapper/task_vg-task_lv
                fstype: ext4
                opts: defaults
                state: present

            - name: Running Command to Mount
              command: mount -a  

